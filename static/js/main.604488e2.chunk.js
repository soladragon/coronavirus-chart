(this["webpackJsonpcovid-stats"]=this["webpackJsonpcovid-stats"]||[]).push([[0],{153:function(t,a,o){"use strict";o.r(a);var e=o(0),r=o.n(e),n=o(40),s=o.n(n),i=(o(51),o(23)),d=o(13),l=o(41),c=o(42),u=o(45),h=o(44),b=(o(52),o(53),o(43)),p=(o(152),o(12)),g=o.n(p),f=function(t){Object(u.a)(o,t);var a=Object(h.a)(o);function o(t){var e;return Object(l.a)(this,o),(e=a.call(this,t)).growthRate=function(){for(var t=e.state.data.datasets[0].data,a=e.state.data.datasets[1].data,o=e.state.data.datasets[3].data,r=e.state.data.labels,n=0;n<28;n++){null===a[a.length-1]&&a.pop();var s=t[t.length-1]+.07*t[t.length-1],i=a[a.length-1]+.07*a[a.length-1],l=o[o.length-1]+.07*o[t.length-1],c=g()(r[r.length-1]).add(1,"days").format("YYYY-MM-DD");t.push(s),a.push(i),o.push(l),r.push(c)}console.log(r),e.setState(Object(d.a)({isLoaded:!1,deathsArray:a,hospArray:o,casesArray:t,labels:r},"isLoaded",!0))},e.growth=function(){for(var t=e.state.data.datasets[0].data,a=e.state.data.labels,o=t.length-1,r=t[o-5],n=(t[o],0),s=0;s<5;s++){var i=t[o-(5+s)+1];n+=(t[o-s]-i)/r}for(var d=1;d<5;d++){var l=n/5,c=t[t.length-1]+t[t.length-1]*l;t.push(c),a.push("test")}e.setState({casesArray:t,labels:a})},e.state={error:null,isLoaded:!1,isLoaded2:!1,items:[],dataTotals:{totalCases:0,totalDeaths:0},data:{totalCases:0,totalDeaths:0,labels:[],datasets:[{label:"Cases",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]},{label:"Deaths",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"red",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]},{label:"Case Estimate",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"yellow",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]},{label:"firstVaccinationsDaily",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(182,242,186)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]},{label:"secondVaccinationsDaily",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(4,208,17)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]}]}},e}return Object(c.a)(o,[{key:"totals",value:function(t,a){var o=Object(i.a)({},this.state.dataTotals);o.totalCases=t+o.totalCases,o.totalDeaths=a+o.totalDeaths,this.setState({dataTotals:o})}},{key:"addDateCasesDeaths",value:function(t,a,o,e,r){var n=this.state.dataTotals.totalDeaths/this.state.dataTotals.totalCases,s=Object(i.a)({},this.state.data);s.datasets[0].data.unshift(t),s.datasets[1].data.unshift(a),s.datasets[2].data.unshift(a/n),s.datasets[3].data.unshift(e),s.datasets[4].data.unshift(r),s.labels.unshift(o),this.setState({someProperty:s})}},{key:"componentDidMount",value:function(){var t=this;fetch("https://api.coronavirus.data.gov.uk/v1/data?").then((function(t){return t.json()})).then((function(a){a.data.map((function(a){a.date>="2020-09-20"&&a.date<"2020-10-04"&&t.totals(a.casesDaily,a.deathsDaily)})),a.data.map((function(a){t.addDateCasesDeaths(a.casesDaily,a.deathsDaily,a.date,a.firstVaccinationsDaily,a.secondVaccinationsDaily)})),console.log(t.state.data),t.setState({isLoaded2:!0,isLoaded:!0})}),(function(a){t.setState({isLoaded:!0,error:a})})),console.log(this.state.data.datasets)}},{key:"render",value:function(){var t=this.state,a=t.error,o=t.isLoaded,e=t.isLoaded2,n=t.data;return a?r.a.createElement("div",null,"Error: ",a.message):o&&e?r.a.createElement("div",null,r.a.createElement(b.Line,{data:n,redraw:!0,width:100,height:500,options:{maintainAspectRatio:!1}}),r.a.createElement("button",{onClick:this.growthRate},"Generate R rate prediction")):r.a.createElement("div",null,"Loading...")}}]),o}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},46:function(t,a,o){t.exports=o(153)},51:function(t,a,o){},52:function(t,a,o){t.exports=o.p+"static/media/logo.ee7cd8ed.svg"},53:function(t,a,o){}},[[46,1,2]]]);
//# sourceMappingURL=main.604488e2.chunk.js.map